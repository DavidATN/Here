<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Latest compiled and minified CSS -->
    <!--link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"-->
    <link rel="stylesheet" type="text/css" href="bootstrap.css">

    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Hear: Lobby</title>
    <script src="https://www.gstatic.com/firebasejs/3.7.0/firebase.js"></script>
    <script src="backend.js"></script>
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
    <link rel="stylesheet" type="text/css" href="styles.css"/>
    <style>
    #map1 {
      height: 80%;
    }
    /* Optional: Makes the sample page fill the window. */
    html, body, .main_section, .container, .chat_container, .message_section, .row, .new_message_head, .tab-content{
      height: 100%;
      margin: 0;
      padding: 0;
    }
    </style>
</head>
<body>
<script src="https://use.fontawesome.com/45e03a14ce.js"></script>
<div class="main_section">
    <div class="container">
        <div class="chat_container">

            <div class="col-sm-9 message_section">
                <div class="row">

                    <!-- START new_message_header-->

                    <div class="new_message_head">
                        <ul class="nav nav-tabs">
                            <li><a data-toggle="tab" href="#map1">Map</a></li>
                            <li class="active"><a data-toggle="tab" href="#room">Room <span class="badge">3</span></a></li>
                            <li><a data-toggle="tab" href="#users">Users</a></li>
                            <li><a data-toggle="tab" href="#settings">Settings</a></li>
                        </ul>

                        <!-- START tabs -->
                        <div class="tab-content">
                            <div id="map1" class="tab-pane fade">
                                <script>
                                  var map;
                                  var markers = [];

                                  function initMap() {
                                    map = new google.maps.Map(document.getElementById('map1'), {
                                      center: {lat: 43.0292059, lng: -87.9093327},
                                      zoom: 18
                                    });
                                    var infoWindow = new google.maps.InfoWindow({map: map});

                                    // Try HTML5 geolocation.
                                    if (navigator.geolocation) {
                                      navigator.geolocation.getCurrentPosition(function(position) {
                                        var pos = {
                                          lat: position.coords.latitude,
                                          lng: position.coords.longitude
                                        };

                                        infoWindow.setPosition(pos);
                                        infoWindow.setContent('Location found.');
                                        map.setCenter(pos);
                                      }, function() {
                                        handleLocationError(true, infoWindow, map.getCenter());
                                      });
                                    } else {
                                      // Browser doesn't support Geolocation
                                      handleLocationError(false, infoWindow, map.getCenter());
                                    }

                                    map.addListener('click', function(event) {
                                      var loc = {lat: event.latLng.lat(), lng: event.latLng.lng()};
                                      addMarker(loc);
                                    });

                                    setMapOnAll();
                                  }

                                  // Adds a marker to the map and push to the array.
                                  function addMarker(location) {
                                    var marker = new google.maps.Marker({
                                      position: location,
                                      map: map
                                    });
                                    markers.push(location);
                                  }

                                  // Sets the map on all markers in the array.
                                  function setMapOnAll(map) {
                                    for (var i = 0; i < markers.length; i++) {
                                      markers[i].setMap(map);
                                    }
                                  }

                                  function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                                    infoWindow.setPosition(pos);
                                    infoWindow.setContent(browserHasGeolocation ?
                                                          'Error: The Geolocation service failed.' :
                                                          'Error: Your browser doesn\'t support geolocation.');
                                  }

                                </script>

                            </div>
                            <div id="room" class="tab-pane fade in active">

                                <!--START chat_area-->
                                <div class="chat_area">
                                    <ul class="list-unstyled">
                                        <li class="left clearfix">
                     <span class="chat-img1 pull-left">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar"
                          class="img-circle">
                     </span>
                                            <div class="chat-body1 clearfix">
                                                <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots
                                                    in a piece of classical Latin literature from 45 BC, making it over 2000 years
                                                    old. Richard McClintock, a Latin professor at Hampden-Sydney College in
                                                    Virginia.</p>
                                                <div class="chat_time pull-right">09:40PM</div>
                                            </div>
                                        </li>
                                        <li class="left clearfix">
                     <span class="chat-img1 pull-left">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar"
                          class="img-circle">
                     </span>
                                            <div class="chat-body1 clearfix">
                                                <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots
                                                    in a piece of classical Latin literature from 45 BC, making it over 2000 years
                                                    old. Richard McClintock, a Latin professor at Hampden-Sydney College in
                                                    Virginia.</p>
                                                <div class="chat_time pull-right">09:40PM</div>
                                            </div>
                                        </li>
                                        <li class="left clearfix">
                     <span class="chat-img1 pull-left">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar"
                          class="img-circle">
                     </span>
                                            <div class="chat-body1 clearfix">
                                                <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots
                                                    in a piece of classical Latin literature from 45 BC, making it over 2000 years
                                                    old. Richard McClintock, a Latin professor at Hampden-Sydney College in
                                                    Virginia.</p>
                                                <div class="chat_time pull-right">09:40PM</div>
                                            </div>
                                        </li>
                                        <li class="left clearfix admin_chat">
                     <span class="chat-img1 pull-right">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar"
                          class="img-circle">
                     </span>
                                            <div class="chat-body1 clearfix">
                                                <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots
                                                    in a piece of classical Latin literature from 45 BC, making it over 2000 years
                                                    old. Richard McClintock, a Latin professor at Hampden-Sydney College in
                                                    Virginia.</p>
                                                <div class="chat_time pull-left">09:40PM</div>
                                            </div>
                                        </li>
                                        <li class="left clearfix admin_chat">
                     <span class="chat-img1 pull-right">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar"
                          class="img-circle">
                     </span>
                                            <div class="chat-body1 clearfix">
                                                <p>Contrary to popular belief, Lorem Ipsum is not simply random text. It has roots
                                                    in a piece of classical Latin literature from 45 BC, making it over 2000 years
                                                    old. Richard McClintock, a Latin professor at Hampden-Sydney College in
                                                    Virginia.</p>
                                                <div class="chat_time pull-left">09:40PM</div>
                                            </div>
                                        </li>


                                    </ul>
                                </div>
                                <!--END chat_area-->

                                <!-- START message_write-->
                                <div class="message_write">
                                    <textarea class="form-control" placeholder="type a message"></textarea>
                                    <div class="clearfix"></div>
                                    <div class="chat_bottom">
                                        <a href="#" class="pull-right btn btn-success">
                                            Send</a>
                                    </div>
                                </div>
                                <!-- END message_write-->

                            </div>
                            <div id="users" class="tab-pane fade">
                                <h3>Users in Chat Room</h3>

                                <!--START user list -->
                    <!-- TODO need to pull in user list -->

                                <div class="member_list" >
                                    <ul class="list-unstyled" id="userList">
                                        <li class="left clearfix">
                     <span class="chat-img pull-left">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar" class="img-circle">
                     </span>
                                            <div class="chat-body clearfix">
                                                <div class="header_sec">
                                                    <strong class="primary-font">Jack Sparrow</strong> <strong class="pull-right">
                                                    09:45AM</strong>
                                                </div>
                                                <!--<div class="contact_sec">-->
                                                    <!--<strong class="primary-font">(123) 123-456</strong> <span class="badge pull-right">3</span>-->
                                                <!--</div>-->
                                            </div>
                                        </li>
                                        <li class="left clearfix">
                     <span class="chat-img pull-left">
                     <img src="https://pbs.twimg.com/profile_images/639319799953289217/daVoLUtB.jpg" alt="User Avatar" class="img-circle">
                     </span>
                                            <div class="chat-body clearfix">
                                                <div class="header_sec">
                                                    <strong class="primary-font">Phillip J Fry</strong> <strong class="pull-right ">
                                                    09:45AM</strong>
                                                </div>
                                                <!--<div class="contact_sec">-->
                                                    <!--<strong class="primary-font">(123) 123-456</strong> <span class="badge pull-right">3</span>-->
                                                <!--</div>-->
                                            </div>
                                        </li>
                                        <li class="left clearfix">
                     <span class="chat-img pull-left">
                     <img src="http://rs253.pbsrc.com/albums/hh44/Gavener_Purl/poptart1red1.gif~c200" alt="User Avatar" class="img-circle">
                     </span>
                                            <div class="chat-body clearfix">
                                                <div class="header_sec">
                                                    <strong class="primary-font">Attilah the Hun</strong> <strong class="pull-right">
                                                    09:45AM</strong>
                                                </div>
                                                <!--<div class="contact_sec">-->
                                                    <!--<strong class="primary-font">(123) 123-456</strong> <span class="badge pull-right">3</span>-->
                                                <!--</div>-->
                                            </div>
                                        </li>
                                        <li class="left clearfix">
                     <span class="chat-img pull-left">
                     <img src="http://www.easydrawingtutorials.com/images/HomerSimpson/homer-simpson-step-last.jpg" alt="User Avatar" class="img-circle">
                     </span>
                                            <div class="chat-body clearfix">
                                                <div class="header_sec">
                                                    <strong class="primary-font">Homer J Simpson</strong> <strong class="pull-right">
                                                    09:45AM</strong>
                                                </div>
                                                <!--<div class="contact_sec">-->
                                                    <!--<strong class="primary-font">(123) 123-456</strong> <span class="badge pull-right">3</span>-->
                                                <!--</div>-->
                                            </div>
                                        </li>
                                    </ul>
                                </div>


                                <!--END user list -->
                            </div>

                            <div id="settings" class="tab-pane fade">
                                <h3>Settings:</h3>
                                <form>
                                    <div class="form-group">
                                        <label for="username">Change Username:</label>
                                        <input type="username" class="form-control" id="username" placeholder="Enter new username">
                                    </div>
                                    <div class="form-group">
                                        <label for="dist">Chat Distance: </label>
                                        <input type="distance" class="form-control" id="dist" placeholder="Distance in miles">
                                    </div>

                                    <div class="row">
                                        <div class="col-xs-6">
                                            <h5><ins>Font Styles:</ins></h5>
                                            <div class="radio">
                                                <label><input type="radio" name="text-styles"> <b>Bold</b></label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="text-styles"><em>Italicize</em></label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="text-styles"><ins>Underline</ins></label>
                                            </div>
                                        </div>
                                        <div class="col-xs-6">
                                            <h5><ins>Text Colors:</ins></h5>
                                            <div class="radio">
                                                <label><input type="radio" name="text-colors">Black</label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="text-colors">Blue </label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="text-colors">Red</label>
                                            </div>
                                            <div class="radio">
                                                <label><input type="radio" name="text-colors">Green</label>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="checkbox">
                                        <label><input type="checkbox"> Keep me logged in</label>
                                    </div>
                                    <button type="apply" class="btn btn-default">Apply</button>
                                </form>
                            </div>
                        </div>

                    </div>
                    <!-- END tabs -->


                </div>
            </div> <!--message_section-->
        </div>
    </div>
</div>
<script>
    function add() {
        var listRooms = document.getElementById("chat-rooms");
        var roomCard = document.createElement("div");
        var chatText = prompt("Create new chat room: ");
        roomCard.className = "card";

        chatText = chatText.trim();
//                item.text=chatText;
//                item.appendChild("p");
//                var text = document.createElement("p");
//                text.appendChild(chatText);
//                item.add(text);

        listRooms.appendChild(roomCard);
    }

    function userList(){
        var listUser = document.getElementById("userList");



    }
    //onload=userList();

</script>
<script async defer
src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCs36OTXropmoWHBfSmii4b95UaYrvIad4&callback=initMap">
</script>
</body>
</html>
